{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { isNumber, isObject } from 'lodash/fp';\n\nimport { isEqualApproxNum } from 'is-equal-approx';\n\nconst approxFixNum = (num, precision = 2) => {\n    // * -0\n    if (num === 0) return 0;\n\n    precision = Math.pow(10, precision);\n    const soft = Math.round(num * precision) / precision;\n    return isEqualApproxNum(soft, num, 1e-8) ? soft : num;\n};\n\nconst approxFix = (val, precision) => {\n    if (isNumber(val)) {\n        return approxFixNum(val, precision);\n    } else if (isObject(val)) {\n        for (const key in val) {\n            val[key] = approxFix(val[key], precision);\n        }\n        return val;\n    } else {\n        return val;\n    }\n};\n\nexport default approxFix;\n\nexport { approxFix, approxFixNum };\n"],"names":["approxFixNum","num","precision","Math","pow","soft","round","isEqualApproxNum","approxFix","val","isNumber","isObject","key"],"mappings":";;;;;;;IAIMA,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAwB;MAAlBC,SAAkB,uEAAN,CAAM;;MAErCD,GAAG,KAAK,CAAZ,EAAe,OAAO,CAAP;EAEfC,SAAS,GAAGC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAaF,SAAb,CAAZ;MACMG,IAAI,GAAGF,IAAI,CAACG,KAAL,CAAWL,GAAG,GAAGC,SAAjB,IAA8BA,SAA3C;SACOK,8BAAgB,CAACF,IAAD,EAAOJ,GAAP,EAAY,IAAZ,CAAhB,GAAoCI,IAApC,GAA2CJ,GAAlD;CANJ;;AASA,IAAMO,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAMP,SAAN,EAAoB;MAC9BQ,WAAQ,CAACD,GAAD,CAAZ,EAAmB;WACRT,YAAY,CAACS,GAAD,EAAMP,SAAN,CAAnB;GADJ,MAEO,IAAIS,WAAQ,CAACF,GAAD,CAAZ,EAAmB;SACjB,IAAMG,GAAX,IAAkBH,GAAlB,EAAuB;MACnBA,GAAG,CAACG,GAAD,CAAH,GAAWJ,SAAS,CAACC,GAAG,CAACG,GAAD,CAAJ,EAAWV,SAAX,CAApB;;;WAEGO,GAAP;GAJG,MAKA;WACIA,GAAP;;CATR;;;;;;"}